@startuml
package auth0 {
    entity User {
        - id: String
        --
        - school: School
        - teacher: Teacher
        ..
        - accountType: AccountType
        ..
        - emailAddress: String
        - locale: String
    }

    note left of User::id
        The id which is generated by the provider
        should contain a prefix to make sure they
        are unique cross platform. Currently only
        auth0 is supported which prefixes the id by
        default with `auth0|`.

        Also, e-mail address should be a unique
        platform wide.
    end note

    note left of AccountType::LITTIL
        used for internal LITTIL accounts
    end note
}

package LiTTiL {
    entity Teacher {
        - id: UUID
        ..
        - firstName: String
        - surname: String
        - location: Location
        - availability: Set<DayOfWeek>
    }

    entity School {
        - id: UUID
        ..
        - name: String
        - contactPersonName: String
        - location: Location
    }

    entity Location {
        - country: String
        - address: String
        - postalCode: String
        - longitude: Decimal
        - latitude: Decimal
    }
    enum AccountType {
        USER
        LITTIL
    }

    entity UserSetting <<Serializable>>{
        userId: String
        key: String
        ..
        value: String
    }

    note left of UserSetting
        Settings are really generic.
        The frontend can store any
        setting they like by
        introducing a new key.
    end note
}

    Teacher *-- User: "0..1"
    School *-- User: "0..1"

    Location -- Teacher::location: "1..1"
    Location -- School::location : "1..1"

    User --* UserSetting : "1..*"

    User::accountType -- AccountType
@enduml