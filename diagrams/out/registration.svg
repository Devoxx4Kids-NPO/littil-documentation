<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1488px" preserveAspectRatio="none" style="width:1031px;height:1488px;background:#FFFFFF;" version="1.1" viewBox="0 0 1031 1488" width="1031px" zoomAndPan="magnify"><defs/><g><rect height="46.2656" style="stroke:#000000;stroke-width:1.5;fill:none;" width="368.5" x="213.5" y="214.8281"/><rect height="46.2656" style="stroke:#000000;stroke-width:1.5;fill:none;" width="368.5" x="213.5" y="375.4922"/><rect height="707.125" style="stroke:#000000;stroke-width:1.5;fill:none;" width="1014" x="10" y="683.9531"/><rect height="61.3984" style="stroke:#000000;stroke-width:1.5;fill:none;" width="393" x="213.5" y="795.4844"/><rect height="61.3984" style="stroke:#000000;stroke-width:1.5;fill:none;" width="393" x="213.5" y="1147.8828"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="38" x2="38" y1="81.2969" y2="1408.0781"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="273.5" x2="273.5" y1="81.2969" y2="1408.0781"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="521" x2="521" y1="81.2969" y2="1408.0781"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="794" x2="794" y1="81.2969" y2="1408.0781"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="935" x2="935" y1="81.2969" y2="1408.0781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="20" y="77.9951">user</text><ellipse cx="38.5" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M38.5,21.5 L38.5,48.5 M25.5,29.5 L51.5,29.5 M38.5,48.5 L25.5,63.5 M38.5,48.5 L51.5,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="20" y="1420.0732">user</text><ellipse cx="38.5" cy="1431.875" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M38.5,1439.875 L38.5,1466.875 M25.5,1447.875 L51.5,1447.875 M38.5,1466.875 L25.5,1481.875 M38.5,1466.875 L51.5,1481.875 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="100" x="223.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="230.5" y="69.9951">littil-frontend</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="100" x="223.5" y="1407.0781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="230.5" y="1427.0732">littil-frontend</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101" x="471" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="478" y="69.9951">littil-backend</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101" x="471" y="1407.0781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="478" y="1427.0732">littil-backend</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="105" x="742" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="749" y="69.9951">littil-database</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="105" x="742" y="1407.0781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="749" y="1427.0732">littil-database</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="157" x="857" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143" x="864" y="69.9951">authenticationServer</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="157" x="857" y="1407.0781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143" x="864" y="1427.0732">authenticationServer</text><polygon fill="#181818" points="261.5,108.4297,271.5,112.4297,261.5,116.4297,265.5,112.4297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="38.5" x2="267.5" y1="112.4297" y2="112.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="45.5" y="107.3638">Register</text><polygon fill="#181818" points="509.5,137.5625,519.5,141.5625,509.5,145.5625,513.5,141.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="273.5" x2="515.5" y1="141.5625" y2="141.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="280.5" y="136.4966">Create user</text><polygon fill="#181818" points="782.5,166.6953,792.5,170.6953,782.5,174.6953,786.5,170.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="521.5" x2="788.5" y1="170.6953" y2="170.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="528.5" y="165.6294">Check if user exists</text><polygon fill="#181818" points="532.5,195.8281,522.5,199.8281,532.5,203.8281,528.5,199.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="526.5" x2="793.5" y1="199.8281" y2="199.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="538.5" y="194.7622">Returns user if exists</text><path d="M213.5,214.8281 L277.5,214.8281 L277.5,221.9609 L267.5,231.9609 L213.5,231.9609 L213.5,214.8281 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="46.2656" style="stroke:#000000;stroke-width:1.5;" width="368.5" x="213.5" y="214.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="228.5" y="227.895">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="132" x="292.5" y="227.0386">[user already exists]</text><polygon fill="#181818" points="284.5,249.0938,274.5,253.0938,284.5,257.0938,280.5,253.0938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="278.5" x2="520.5" y1="253.0938" y2="253.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="290.5" y="248.0278">User already exists</text><line style="stroke:#181818;stroke-width:1.0;" x1="521.5" x2="563.5" y1="289.2266" y2="289.2266"/><line style="stroke:#181818;stroke-width:1.0;" x1="563.5" x2="563.5" y1="289.2266" y2="302.2266"/><line style="stroke:#181818;stroke-width:1.0;" x1="522.5" x2="563.5" y1="302.2266" y2="302.2266"/><polygon fill="#181818" points="532.5,298.2266,522.5,302.2266,532.5,306.2266,528.5,302.2266" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="528.5" y="284.1606">Generate random password</text><polygon fill="#181818" points="923.5,327.3594,933.5,331.3594,923.5,335.3594,927.5,331.3594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="521.5" x2="929.5" y1="331.3594" y2="331.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="528.5" y="326.2935">Create user</text><polygon fill="#181818" points="532.5,356.4922,522.5,360.4922,532.5,364.4922,528.5,360.4922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="526.5" x2="934.5" y1="360.4922" y2="360.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62" x="538.5" y="355.4263">Response</text><path d="M213.5,375.4922 L277.5,375.4922 L277.5,382.625 L267.5,392.625 L213.5,392.625 L213.5,375.4922 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="46.2656" style="stroke:#000000;stroke-width:1.5;" width="368.5" x="213.5" y="375.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="228.5" y="388.5591">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="162" x="292.5" y="387.7026">[Response was not "OK"]</text><polygon fill="#181818" points="284.5,409.7578,274.5,413.7578,284.5,417.7578,280.5,413.7578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="278.5" x2="520.5" y1="413.7578" y2="413.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="219" x="290.5" y="408.6919">(TODO FIXME) Internal server error</text><polygon fill="#181818" points="49.5,445.8906,39.5,449.8906,49.5,453.8906,45.5,449.8906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="43.5" x2="520.5" y1="449.8906" y2="449.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179" x="55.5" y="444.8247">Send "Welcome to littil" mail</text><polygon fill="#181818" points="284.5,475.0234,274.5,479.0234,284.5,483.0234,280.5,479.0234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="278.5" x2="520.5" y1="479.0234" y2="479.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="290.5" y="473.9575">Created user</text><polygon fill="#181818" points="49.5,504.1563,39.5,508.1563,49.5,512.1563,45.5,508.1563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="43.5" x2="272.5" y1="508.1563" y2="508.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="55.5" y="503.0903">Show login screen</text><polygon fill="#181818" points="261.5,533.2891,271.5,537.2891,261.5,541.2891,265.5,537.2891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="38.5" x2="267.5" y1="537.2891" y2="537.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34" x="45.5" y="532.2231">Login</text><polygon fill="#181818" points="923.5,562.4219,933.5,566.4219,923.5,570.4219,927.5,566.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="273.5" x2="929.5" y1="566.4219" y2="566.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="280.5" y="561.356">Show login screen</text><polygon fill="#181818" points="284.5,591.5547,274.5,595.5547,284.5,599.5547,280.5,595.5547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="278.5" x2="934.5" y1="595.5547" y2="595.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="290.5" y="590.4888">Logged-in user</text><polygon fill="#181818" points="49.5,635.8203,39.5,639.8203,49.5,643.8203,45.5,639.8203" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="43.5" x2="272.5" y1="639.8203" y2="639.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174" x="55.5" y="619.6216">Show GuestTeacher/School</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="55.5" y="634.7544">registration form</text><polygon fill="#181818" points="261.5,664.9531,271.5,668.9531,261.5,672.9531,265.5,668.9531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="38.5" x2="267.5" y1="668.9531" y2="668.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211" x="45.5" y="663.8872">Register as School/GuestTeacher</text><path d="M10,683.9531 L74,683.9531 L74,691.0859 L64,701.0859 L10,701.0859 L10,683.9531 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="707.125" style="stroke:#000000;stroke-width:1.5;" width="1014" x="10" y="683.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="25" y="697.02">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="175" x="89" y="696.1636">[Register as GuestTeacher]</text><polygon fill="#181818" points="509.5,718.2188,519.5,722.2188,509.5,726.2188,513.5,722.2188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="273.5" x2="515.5" y1="722.2188" y2="722.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="280.5" y="717.1528">Register as GuestTeacher</text><polygon fill="#181818" points="782.5,747.3516,792.5,751.3516,782.5,755.3516,786.5,751.3516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="521.5" x2="788.5" y1="751.3516" y2="751.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="249" x="528.5" y="746.2856">Check if GuestTeacher is already exists</text><polygon fill="#181818" points="532.5,776.4844,522.5,780.4844,532.5,784.4844,528.5,780.4844" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="526.5" x2="793.5" y1="780.4844" y2="780.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62" x="538.5" y="775.4185">Response</text><path d="M213.5,795.4844 L277.5,795.4844 L277.5,802.6172 L267.5,812.6172 L213.5,812.6172 L213.5,795.4844 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="61.3984" style="stroke:#000000;stroke-width:1.5;" width="393" x="213.5" y="795.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="228.5" y="808.5513">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="309" x="292.5" y="807.6948">[User already attached to School/GuestTeacher]</text><polygon fill="#181818" points="284.5,844.8828,274.5,848.8828,284.5,852.8828,280.5,848.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="278.5" x2="520.5" y1="848.8828" y2="848.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180" x="290.5" y="828.6841">Invalid request, user already</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224" x="290.5" y="843.8169">registered as School/GuestTeacher</text><polygon fill="#181818" points="782.5,881.0156,792.5,885.0156,782.5,889.0156,786.5,885.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="521.5" x2="788.5" y1="885.0156" y2="885.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="528.5" y="879.9497">Store GuestTeacher</text><polygon fill="#181818" points="923.5,910.1484,933.5,914.1484,923.5,918.1484,927.5,914.1484" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="521.5" x2="929.5" y1="914.1484" y2="914.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195" x="528.5" y="909.0825">Add GuestTeacher role to user</text><polygon fill="#181818" points="284.5,939.2813,274.5,943.2813,284.5,947.2813,280.5,943.2813" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="278.5" x2="520.5" y1="943.2813" y2="943.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62" x="290.5" y="938.2153">Response</text><polygon fill="#181818" points="923.5,968.4141,933.5,972.4141,923.5,976.4141,927.5,972.4141" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="273.5" x2="929.5" y1="972.4141" y2="972.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="280.5" y="967.3481">Retrieve new token</text><polygon fill="#181818" points="284.5,997.5469,274.5,1001.5469,284.5,1005.5469,280.5,1001.5469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="278.5" x2="934.5" y1="1001.5469" y2="1001.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188" x="290.5" y="996.481">Token with GuestTeacher role</text><polygon fill="#181818" points="49.5,1026.6797,39.5,1030.6797,49.5,1034.6797,45.5,1030.6797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="43.5" x2="272.5" y1="1030.6797" y2="1030.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199" x="55.5" y="1025.6138">Show GuestTeacher dashboard</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="1024" y1="1039.6797" y2="1039.6797"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="129" x="15" y="1049.8901">[Register as School]</text><polygon fill="#181818" points="509.5,1070.6172,519.5,1074.6172,509.5,1078.6172,513.5,1074.6172" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="273.5" x2="515.5" y1="1074.6172" y2="1074.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="280.5" y="1069.5513">Register as School</text><polygon fill="#181818" points="782.5,1099.75,792.5,1103.75,782.5,1107.75,786.5,1103.75" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="521.5" x2="788.5" y1="1103.75" y2="1103.75"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203" x="528.5" y="1098.6841">Check if School is already exists</text><polygon fill="#181818" points="532.5,1128.8828,522.5,1132.8828,532.5,1136.8828,528.5,1132.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="526.5" x2="793.5" y1="1132.8828" y2="1132.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62" x="538.5" y="1127.8169">Response</text><path d="M213.5,1147.8828 L277.5,1147.8828 L277.5,1155.0156 L267.5,1165.0156 L213.5,1165.0156 L213.5,1147.8828 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="61.3984" style="stroke:#000000;stroke-width:1.5;" width="393" x="213.5" y="1147.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="228.5" y="1160.9497">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="309" x="292.5" y="1160.0933">[User already attached to School/GuestTeacher]</text><polygon fill="#181818" points="284.5,1197.2813,274.5,1201.2813,284.5,1205.2813,280.5,1201.2813" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="278.5" x2="520.5" y1="1201.2813" y2="1201.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180" x="290.5" y="1181.0825">Invalid request, user already</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224" x="290.5" y="1196.2153">registered as School/GuestTeacher</text><polygon fill="#181818" points="782.5,1233.4141,792.5,1237.4141,782.5,1241.4141,786.5,1237.4141" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="521.5" x2="788.5" y1="1237.4141" y2="1237.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="528.5" y="1232.3481">Store School</text><polygon fill="#181818" points="923.5,1262.5469,933.5,1266.5469,923.5,1270.5469,927.5,1266.5469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="521.5" x2="929.5" y1="1266.5469" y2="1266.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="528.5" y="1261.481">Add School role to user</text><polygon fill="#181818" points="284.5,1291.6797,274.5,1295.6797,284.5,1299.6797,280.5,1295.6797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="278.5" x2="520.5" y1="1295.6797" y2="1295.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62" x="290.5" y="1290.6138">Response</text><polygon fill="#181818" points="923.5,1320.8125,933.5,1324.8125,923.5,1328.8125,927.5,1324.8125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="273.5" x2="929.5" y1="1324.8125" y2="1324.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="280.5" y="1319.7466">Retrieve new token</text><polygon fill="#181818" points="284.5,1349.9453,274.5,1353.9453,284.5,1357.9453,280.5,1353.9453" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="278.5" x2="934.5" y1="1353.9453" y2="1353.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="290.5" y="1348.8794">Token with School role</text><polygon fill="#181818" points="49.5,1379.0781,39.5,1383.0781,49.5,1387.0781,45.5,1383.0781" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="43.5" x2="272.5" y1="1383.0781" y2="1383.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="55.5" y="1378.0122">Show School dashboard</text><!--MD5=[cb1cd251b2beaa93a83889030fb062ff]
@startuml
actor user as user
participant "littil-frontend" as litFront
participant "littil-backend" as litBack
participant "littil-database" as littilDB
participant authenticationServer as authServer

user -> litFront: Register
litFront -> litBack: Create user
litBack -> littilDB: Check if user exists
littilDB - -> litBack: Returns user if exists

alt user already exists
   litBack - -> litFront: User already exists
end

litBack -> litBack: Generate random password
litBack -> authServer: Create user
authServer - -> litBack: Response

alt Response was not "OK"
   litBack - -> litFront: (TODO FIXME) Internal server error
end

litBack -> user: Send "Welcome to littil" mail

litBack - -> litFront: Created user
litFront - -> user: Show login screen

user -> litFront: Login
litFront -> authServer: Show login screen
authServer - -> litFront: Logged-in user
litFront - -> user: Show GuestTeacher/School\nregistration form

user -> litFront: Register as School/GuestTeacher

alt Register as GuestTeacher
    litFront -> litBack: Register as GuestTeacher
    litBack -> littilDB: Check if GuestTeacher is already exists
    littilDB - -> litBack: Response
    alt User already attached to School/GuestTeacher
        litBack - -> litFront: Invalid request, user already\nregistered as School/GuestTeacher
    end
    litBack -> littilDB: Store GuestTeacher
    litBack -> authServer: Add GuestTeacher role to user
    litBack - -> litFront: Response
    litFront -> authServer: Retrieve new token
    authServer - -> litFront: Token with GuestTeacher role
    litFront - -> user: Show GuestTeacher dashboard
else Register as School
    litFront -> litBack: Register as School
    litBack -> littilDB: Check if School is already exists
    littilDB - -> litBack: Response
    alt User already attached to School/GuestTeacher
        litBack - -> litFront: Invalid request, user already\nregistered as School/GuestTeacher
    end
    litBack -> littilDB: Store School
    litBack -> authServer: Add School role to user
    litBack - -> litFront: Response
    litFront -> authServer: Retrieve new token
    authServer - -> litFront: Token with School role
    litFront - -> user: Show School dashboard
end

@enduml

PlantUML version 1.2022.5(Sat Apr 30 10:55:52 GMT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>