<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="621px" preserveAspectRatio="none" style="width:1193px;height:621px;background:#FFFFFF;" version="1.1" viewBox="0 0 1193 621" width="1193px" zoomAndPan="magnify"><defs/><g><rect fill="#F18F2D" height="378.7266" style="stroke:#181818;stroke-width:1.0;" width="10" x="261.5" y="136.5625"/><rect fill="#F9B233" height="320.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="486.5" y="165.6953"/><rect fill="#F18F2D" height="262.1953" style="stroke:#181818;stroke-width:1.0;" width="10" x="700.5" y="194.8281"/><rect fill="#F9B233" height="87.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="811.5" y="223.9609"/><rect fill="#F18F2D" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1012.5" y="253.0938"/><rect fill="#F9B233" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1122.5" y="340.4922"/><rect fill="#F18F2D" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1122.5" y="398.7578"/><rect fill="#DFEFFC" height="424.9922" style="stroke:#000000;stroke-width:1.5;" width="1177.5" x="10" y="98.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="68" x2="68" y1="81.2969" y2="540.2891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="266.5" x2="266.5" y1="81.2969" y2="540.2891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="491.5" x2="491.5" y1="81.2969" y2="540.2891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="705" x2="705" y1="81.2969" y2="540.2891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="816" x2="816" y1="81.2969" y2="540.2891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1017.5" x2="1017.5" y1="81.2969" y2="540.2891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1127.5" x2="1127.5" y1="81.2969" y2="540.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="20" y="77.9951">Platform user</text><ellipse cx="68.5" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M68.5,21.5 L68.5,48.5 M55.5,29.5 L81.5,29.5 M68.5,48.5 L55.5,63.5 M68.5,48.5 L81.5,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="20" y="552.2842">Platform user</text><ellipse cx="68.5" cy="564.0859" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M68.5,572.0859 L68.5,599.0859 M55.5,580.0859 L81.5,580.0859 M68.5,599.0859 L55.5,614.0859 M68.5,599.0859 L81.5,614.0859 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="77" x="225" y="61.6982">«frontend»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="204.5" y="77.9951">Registration form</text><path d="M246,20.7031 L246,44.7031 M246,32.7031 L263,32.7031 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><ellipse cx="275" cy="32.7031" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="77" x="225" y="552.2842">«frontend»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="204.5" y="568.5811">Registration form</text><path d="M246,575.8828 L246,599.8828 M246,587.8828 L263,587.8828 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><ellipse cx="275" cy="587.8828" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="78" x="449.5" y="61.6982">«backend»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="439.5" y="77.9951">User resource</text><ellipse cx="491.5" cy="32.7031" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="487.5,20.7031,493.5,15.7031,491.5,20.7031,493.5,25.7031,487.5,20.7031" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="78" x="449.5" y="552.2842">«backend»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="439.5" y="568.5811">User resource</text><ellipse cx="491.5" cy="587.8828" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="487.5,575.8828,493.5,570.8828,491.5,575.8828,493.5,580.8828,487.5,575.8828" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="78" x="663.5" y="61.6982">«backend»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="660" y="77.9951">User service</text><path d="M685,20.7031 L685,44.7031 M685,32.7031 L702,32.7031 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><ellipse cx="714" cy="32.7031" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="78" x="663.5" y="552.2842">«backend»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="660" y="568.5811">User service</text><path d="M685,575.8828 L685,599.8828 M685,587.8828 L702,587.8828 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><ellipse cx="714" cy="587.8828" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="78" x="774.5" y="61.6982">«backend»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="761" y="77.9951">User repository</text><ellipse cx="816.5" cy="32.7031" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="812.5,20.7031,818.5,15.7031,816.5,20.7031,818.5,25.7031,812.5,20.7031" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="78" x="774.5" y="552.2842">«backend»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="761" y="568.5811">User repository</text><ellipse cx="816.5" cy="587.8828" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="812.5,575.8828,818.5,570.8828,816.5,575.8828,818.5,580.8828,812.5,575.8828" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="78" x="975.5" y="61.6982">«backend»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="967.5" y="77.9951">Littil database</text><ellipse cx="1017.5" cy="32.7031" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="1005.5" x2="1029.5" y1="46.7031" y2="46.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="78" x="975.5" y="552.2842">«backend»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="967.5" y="568.5811">Littil database</text><ellipse cx="1017.5" cy="587.8828" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="1005.5" x2="1029.5" y1="601.8828" y2="601.8828"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="78" x="1085.5" y="61.6982">«backend»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="1077.5" y="77.9951">Auth0 service</text><path d="M1107,20.7031 L1107,44.7031 M1107,32.7031 L1124,32.7031 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><ellipse cx="1136" cy="32.7031" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="78" x="1085.5" y="552.2842">«backend»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="1077.5" y="568.5811">Auth0 service</text><path d="M1107,575.8828 L1107,599.8828 M1107,587.8828 L1124,587.8828 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><ellipse cx="1136" cy="587.8828" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#F18F2D" height="378.7266" style="stroke:#181818;stroke-width:1.0;" width="10" x="261.5" y="136.5625"/><rect fill="#F9B233" height="320.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="486.5" y="165.6953"/><rect fill="#F18F2D" height="262.1953" style="stroke:#181818;stroke-width:1.0;" width="10" x="700.5" y="194.8281"/><rect fill="#F9B233" height="87.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="811.5" y="223.9609"/><rect fill="#F18F2D" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1012.5" y="253.0938"/><rect fill="#F9B233" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1122.5" y="340.4922"/><rect fill="#F18F2D" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1122.5" y="398.7578"/><path d="M10,98.2969 L315,98.2969 L315,105.4297 L305,115.4297 L10,115.4297 L10,98.2969 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="424.9922" style="stroke:#000000;stroke-width:1.5;" width="1177.5" x="10" y="98.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="260" x="25" y="111.3638">Synchronous registration sequence</text><polygon fill="#2B2E83" points="249.5,132.5625,259.5,136.5625,249.5,140.5625,253.5,136.5625" style="stroke:#2B2E83;stroke-width:1.0;"/><line style="stroke:#2B2E83;stroke-width:1.0;" x1="68.5" x2="255.5" y1="136.5625" y2="136.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157" x="75.5" y="131.4966">Submit registration form</text><polygon fill="#2B2E83" points="474.5,161.6953,484.5,165.6953,474.5,169.6953,478.5,165.6953" style="stroke:#2B2E83;stroke-width:1.0;"/><line style="stroke:#2B2E83;stroke-width:1.0;" x1="271.5" x2="480.5" y1="165.6953" y2="165.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="278.5" y="160.6294">Send form payload to backend</text><polygon fill="#2B2E83" points="688.5,190.8281,698.5,194.8281,688.5,198.8281,692.5,194.8281" style="stroke:#2B2E83;stroke-width:1.0;"/><line style="stroke:#2B2E83;stroke-width:1.0;" x1="496.5" x2="694.5" y1="194.8281" y2="194.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="503.5" y="189.7622">Create school / teacher</text><polygon fill="#2B2E83" points="799.5,219.9609,809.5,223.9609,799.5,227.9609,803.5,223.9609" style="stroke:#2B2E83;stroke-width:1.0;"/><line style="stroke:#2B2E83;stroke-width:1.0;" x1="710.5" x2="805.5" y1="223.9609" y2="223.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55" x="717.5" y="218.895">To entity</text><polygon fill="#2B2E83" points="1000.5,249.0938,1010.5,253.0938,1000.5,257.0938,1004.5,253.0938" style="stroke:#2B2E83;stroke-width:1.0;"/><line style="stroke:#2B2E83;stroke-width:1.0;" x1="821.5" x2="1006.5" y1="253.0938" y2="253.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="828.5" y="248.0278">Persist school / teacher</text><polygon fill="#2B2E83" points="832.5,278.2266,822.5,282.2266,832.5,286.2266,828.5,282.2266" style="stroke:#2B2E83;stroke-width:1.0;"/><line style="stroke:#2B2E83;stroke-width:1.0;" x1="826.5" x2="1016.5" y1="282.2266" y2="282.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="838.5" y="277.1606">School / teacher persisted</text><polygon fill="#2B2E83" points="721.5,307.3594,711.5,311.3594,721.5,315.3594,717.5,311.3594" style="stroke:#2B2E83;stroke-width:1.0;"/><line style="stroke:#2B2E83;stroke-width:1.0;" x1="715.5" x2="815.5" y1="311.3594" y2="311.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="727.5" y="306.2935">To domain</text><polygon fill="#2B2E83" points="1110.5,336.4922,1120.5,340.4922,1110.5,344.4922,1114.5,340.4922" style="stroke:#2B2E83;stroke-width:1.0;"/><line style="stroke:#2B2E83;stroke-width:1.0;" x1="710.5" x2="1116.5" y1="340.4922" y2="340.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="717.5" y="335.4263">Register user via API</text><polygon fill="#2B2E83" points="721.5,365.625,711.5,369.625,721.5,373.625,717.5,369.625" style="stroke:#2B2E83;stroke-width:1.0;"/><line style="stroke:#2B2E83;stroke-width:1.0;" x1="715.5" x2="1126.5" y1="369.625" y2="369.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="727.5" y="364.5591">Return created user data</text><polygon fill="#2B2E83" points="1110.5,394.7578,1120.5,398.7578,1110.5,402.7578,1114.5,398.7578" style="stroke:#2B2E83;stroke-width:1.0;"/><line style="stroke:#2B2E83;stroke-width:1.0;" x1="710.5" x2="1116.5" y1="398.7578" y2="398.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216" x="717.5" y="393.6919">Authorize user to school / teacher</text><polygon fill="#2B2E83" points="721.5,423.8906,711.5,427.8906,721.5,431.8906,717.5,427.8906" style="stroke:#2B2E83;stroke-width:1.0;"/><line style="stroke:#2B2E83;stroke-width:1.0;" x1="715.5" x2="1126.5" y1="427.8906" y2="427.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="727.5" y="422.8247">Return persisted user</text><polygon fill="#2B2E83" points="507.5,453.0234,497.5,457.0234,507.5,461.0234,503.5,457.0234" style="stroke:#2B2E83;stroke-width:1.0;"/><line style="stroke:#2B2E83;stroke-width:1.0;" x1="501.5" x2="704.5" y1="457.0234" y2="457.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180" x="513.5" y="451.9575">map user to DTO and return</text><polygon fill="#2B2E83" points="282.5,482.1563,272.5,486.1563,282.5,490.1563,278.5,486.1563" style="stroke:#2B2E83;stroke-width:1.0;"/><line style="stroke:#2B2E83;stroke-width:1.0;" x1="276.5" x2="490.5" y1="486.1563" y2="486.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="288.5" y="481.0903">Registration successful</text><polygon fill="#2B2E83" points="79.5,511.2891,69.5,515.2891,79.5,519.2891,75.5,515.2891" style="stroke:#2B2E83;stroke-width:1.0;"/><line style="stroke:#2B2E83;stroke-width:1.0;" x1="73.5" x2="265.5" y1="515.2891" y2="515.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="85.5" y="510.2231">Redirect user to login form</text><!--MD5=[94eb8e3af11f1c5cc07c9dbf903a1a5d]
@startuml
skinparam sequence {
    ArrowColor #2B2E83
    GroupBackgroundColor #FFFFFF
}
actor       "Platform user"         as platform_user
boundary    "Registration form"     as frontend_registration_form <<frontend>>
control     "User resource"         as user_resource <<backend>>
boundary    "User service"          as user_service <<backend>>
control     "User repository"       as user_repository <<backend>>
entity      "Littil database"       as littil_database <<backend>>
boundary    "Auth0 service"         as backend_auth0_service <<backend>>

group #DFEFFC Synchronous registration sequence
platform_user -> frontend_registration_form: Submit registration form
activate frontend_registration_form #F18F2D
frontend_registration_form -> user_resource: Send form payload to backend
activate user_resource #F9B233
user_resource -> user_service : Create school / teacher
activate user_service #F18F2D
user_service -> user_repository : To entity
activate user_repository #F9B233
user_repository -> littil_database : Persist school / teacher
activate littil_database #F18F2D
user_repository <- littil_database : School / teacher persisted
deactivate littil_database
user_service <- user_repository : To domain
deactivate user_repository
user_service -> backend_auth0_service : Register user via API
activate backend_auth0_service #F9B233
user_service <- backend_auth0_service : Return created user data
deactivate backend_auth0_service
user_service -> backend_auth0_service : Authorize user to school / teacher
activate backend_auth0_service #F18F2D
user_service <- backend_auth0_service : Return persisted user
deactivate backend_auth0_service
user_resource <- user_service : map user to DTO and return
deactivate user_service
user_resource -> frontend_registration_form : Registration successful
deactivate user_resource
frontend_registration_form -> platform_user: Redirect user to login form
deactivate frontend_registration_form
end
@enduml

PlantUML version 1.2022.5(Sat Apr 30 10:55:52 GMT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>